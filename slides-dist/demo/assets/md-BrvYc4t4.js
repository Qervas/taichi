import{_ as n}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-BmpSeldK.js";import{o as r,b as p,w as h,g as i,d,m as g,ad as s,v as A,x as y,T as l}from"./modules/vue-CYPF2tZc.js";import{I as D}from"./slidev/default-Bu3OAgZl.js";import{u as o,f as E}from"./slidev/context-DfsvCotc.js";import"./modules/unplugin-icons-Djx3TAIU.js";import"./index-DR_ZOGka.js";import"./modules/shiki-DXooxXci.js";const x={__name:"slides-demo-mlsmpm.md__slidev_11",setup(C){const{$clicksContext:t,$frontmatter:k}=o();return t.setup(),(m,a)=>{const e=n;return r(),p(D,A(y(l(E)(l(k),10))),{default:h(()=>[a[1]||(a[1]=i("h1",null,"逐行拆解：G2P（Grid to Particle）",-1)),d(e,g({},{title:"",ranges:["all","1-2","3-7","8-11","all"]}),{default:h(()=>[...a[0]||(a[0]=[i("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-python"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"for"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," p "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," F_x"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},":")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    new_v"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," new_C "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 0")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," offset "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," ndrange"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},","),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"3"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"       # 27 邻居")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        g_v "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," grid_v"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"base "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"+"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," offset"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        new_v "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"+="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," weight "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," g_v           "),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# 收集速度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        new_C "),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"+="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 4"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"/"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"dx"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"**"),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"2"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," w "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," g_v"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"outer"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"dpos"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}}," # 收集 C")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"    # ─── 更新粒子状态 ───")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    F_v"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," new_v                      "),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# 新速度")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    F_x"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," +="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," dt "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," new_v                "),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# advect")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"    F_J"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," *="),i("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}}," 1"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," +"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," dt "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," new_C"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"trace"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()"),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   # J 更新")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C99076","--shiki-light":"#A65E2B"}},"    F_C"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"["),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"p"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"]"),i("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," ="),i("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," new_C                      "),i("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"# 存 C")])])],-1)])]),_:1},16),a[2]||(a[2]=i("div",{class:"mt-4 grid grid-cols-2 gap-4 text-sm"},[i("div",{class:"p-3 bg-blue-900 bg-opacity-30 rounded"},[i("p",null,[i("strong",null,"收集阶段"),s("（L3-6）：从 27 个 grid 节点加权收集速度和 C 矩阵")]),i("p",null,[i("code",null,"4/dx²"),s(" = B-spline 惯性张量逆 "),i("span",{class:"katex"},[i("span",{class:"katex-mathml"},[i("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[i("semantics",null,[i("mrow",null,[i("msup",null,[i("mi",null,"M"),i("mrow",null,[i("mo",null,"−"),i("mn",null,"1")])])]),i("annotation",{encoding:"application/x-tex"},"M^{-1}")])])]),i("span",{class:"katex-html","aria-hidden":"true"},[i("span",{class:"base"},[i("span",{class:"strut",style:{height:"0.8141em"}}),i("span",{class:"mord"},[i("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"M"),i("span",{class:"msupsub"},[i("span",{class:"vlist-t"},[i("span",{class:"vlist-r"},[i("span",{class:"vlist",style:{height:"0.8141em"}},[i("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[i("span",{class:"pstrut",style:{height:"2.7em"}}),i("span",{class:"sizing reset-size6 size3 mtight"},[i("span",{class:"mord mtight"},[i("span",{class:"mord mtight"},"−"),i("span",{class:"mord mtight"},"1")])])])])])])])])])])])])]),i("div",{class:"p-3 bg-green-900 bg-opacity-30 rounded"},[i("p",null,[i("strong",null,"更新阶段"),s("（L8-11）：4 行更新粒子全部状态")]),i("p",null,[i("code",null,"trace(C)"),s(" = 速度散度 → 控制 J 增减")])])],-1))]),_:1},16)}}};export{x as default};
