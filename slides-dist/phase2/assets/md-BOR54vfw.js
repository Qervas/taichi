import{_ as d}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Br9GkM7A.js";import{o as p,b as g,w as a,g as s,d as k,m as h,ad as i,v as y,x as o,T as n}from"./modules/vue-BOLmPnWG.js";import{I as A}from"./slidev/default-QCPF7EtB.js";import{u,f as D}from"./slidev/context-S2B6uJDZ.js";import"./modules/unplugin-icons-BmlxQJto.js";import"./index-D3SD0EfW.js";import"./modules/shiki-DqztgEPn.js";const E={class:"grid grid-cols-2 gap-8 mt-4"},x={__name:"slides-phase2.md__slidev_7",setup(c){const{$clicksContext:e,$frontmatter:r}=u();return e.setup(),(C,l)=>{const t=d;return p(),g(A,y(o(n(D)(n(r),6))),{default:a(()=>[l[7]||(l[7]=s("h1",null,"Phase 2 完成：代码量对比",-1)),s("div",E,[s("div",null,[l[1]||(l[1]=s("h3",null,"FLIP/APIC + Pressure Solve",-1)),k(t,h({},{title:"",ranges:[]}),{default:a(()=>[...l[0]||(l[0]=[s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"def"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," substep"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"dt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    clear_grid"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    p2g"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    normalize_grid"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    add_gravity"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"dt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    mark_cell_type"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    apply_boundary"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    save_grid_velocity"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    compute_divergence"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    pressure_zero"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"    for"),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}}," _ "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"in"),s("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#998418"}}," range"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#4C9A91","--shiki-light":"#2F798A"}},"120"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"):"),s("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"        # ← 瓶颈")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        gs_red_freesurface"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"        gs_black_freesurface"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    project"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    apply_boundary"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    g2p"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    advect_particles"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"("),s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"dt"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},")")])])],-1)])]),_:1},16),l[2]||(l[2]=s("p",null,[s("strong",null,"~650 行，~1000 kernel calls/帧")],-1))]),s("div",null,[l[4]||(l[4]=s("h3",null,"MLS-MPM",-1)),k(t,h({},{title:"",ranges:[]}),{default:a(()=>[...l[3]||(l[3]=[s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"def"),s("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," substep"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"():")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    clear_grid"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    p2g"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    grid_ops"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    g2p"),s("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"()")])])],-1)])]),_:1},16),l[5]||(l[5]=s("p",null,[s("strong",null,"~200 行，3 × 16 = 48 kernels/帧")],-1)),l[6]||(l[6]=s("div",{class:"mt-6"},[s("table",null,[s("thead",null,[s("tr",null,[s("th"),s("th",null,"FLIP/APIC"),s("th",null,"MLS-MPM")])]),s("tbody",null,[s("tr",null,[s("td",null,"压力求解"),s("td",null,"120× GS 迭代"),s("td",null,"无（EOS）")]),s("tr",null,[s("td",null,"Grid"),s("td",null,"MAC staggered"),s("td",null,"Collocated")]),s("tr",null,[s("td",null,"自由表面"),s("td",null,"手动 cell 分类"),s("td",null,"自动")]),s("tr",null,[s("td",null,"代码行数"),s("td",null,"~650"),s("td",null,"~200")]),s("tr",null,[s("td",null,"可扩展性"),s("td",null,"只做流体"),s("td",null,"水/雪/沙/弹性体")])])])],-1))])])]),_:1},16)}}};export{x as default};
